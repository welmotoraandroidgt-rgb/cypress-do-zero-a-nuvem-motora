# Integra√ß√£o Cont√≠nua (_CI_) com GitHub Actions

A integra√ß√£o cont√≠nua √© uma t√©cnica em que o c√≥digo de v√°rios(as) desenvolvedores(as) e testadores(as) √© integrado continuamente ao _branch_ principal de um reposit√≥rio remoto.

Quando uma altera√ß√£o √© enviada √† esse reposit√≥rio central, uma rotina automatizada √© acionada para garantir que a nova vers√£o funciona.

Se a nova vers√£o n√£o funcionar (comprovada por um teste falhando), o _workflow_ "quebra" e n√£o corremos o risco de liberar software quebrado aos nossos usu√°rios.

Como o c√≥digo deste projeto est√° no GitHub, aproveitaremos o [GitHub Actions](https://github.com/features/actions) para criar o _workflow_ de integra√ß√£o cont√≠nua.

## Conte√∫dos sugeridos

Aqui est√° a documenta√ß√£o oficial do Cypress, bem como a documenta√ß√£o do GitHub Actions, com tudo que voc√™ precisa saber para executar seus testes escritos com Cypress no GitHub Actions.

- https://docs.cypress.io/guides/continuous-integration/github-actions#Cypress-GitHub-Action
- https://github.com/cypress-io/github-action#readme

## Exerc√≠cio

1. Na raiz do projeto, crie um diret√≥rio oculto chamado `.github/` e dentro dele, crie um subdiret√≥rio chamado `workflows/`.

> üë®‚Äçüè´ Voc√™ deve ter a seguinte estrutura `.github/workflows/`

2. Dentro do diret√≥rio `.github/workflows/`, crie um arquivo chamado `ci.yml`, com o seguinte conte√∫do:

```yml
name: End-to-end tests
on: push
jobs:
  cypress-run:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Cypress run
        uses: cypress-io/github-action@v6

```

**Refer√™ncia:** https://github.com/cypress-io/github-action#end-to-end-testing

> üë®‚Äçüè´ O nome do arquivo pode ser qualquer nome aleat√≥rio. Eu escolhi `ci` porque significa integra√ß√£o cont√≠nua (em ingl√™s).

3. Com o `git`, adicione todas suas altera√ß√µes √† √°rea de _staging_ (`git add .`).
4. Fa√ßa um commit com a mensagem `Configure the ci workflow` (`git commit -m "Configure the ci workflow"`.)
5. Envie suas altera√ß√µes locais para seu fork remoto no GitHub (`git push origin main`.)
6. Acesse o GitHub e veja suas altera√ß√µes disparando o _workflow_ (e se tudo der certo, veja seus testes passando).

## Exerc√≠cio extra 1

1. Acesse o arquivo `src/script.js` e quebre algo de prop√≥sito
2. Adicione todas suas mudan√ßas (`git add .`)
3. Fa√ßa um _commit_ com a mensagem `Break the app on purpose` (`git commit -m "Break the app on purpose"`)
4. Envie suas mudan√ßas locais para seu fork remoto no GitHub (`git push origin main`)
5. V√° at√© o GitHub e veja suas mudan√ßas disparando o _workflow_ e um (ou mais) teste(s) falhando.

## Exerc√≠cio extra 2

Corrija a altera√ß√£o do exerc√≠cio anterior, ou reverta a mudan√ßa, rode os comandos `git` necess√°rios, v√° at√© o GitHub e veja sua mudan√ßa disparando o _workflow_ novamente (e se tudo der certo, veja seus testes passando de novo).

## Mostre ao mundo o que voc√™ aprendeu

Para mostrar √† sua rede profissional o que voc√™ aprendeu at√© agora, poste o seguinte no LinkedIn.

> Estou fazendo o curso "Cypress, do Zero √† Nuvem" da escola online Talking About Testing, onde aprendi a executar testes n√£o apenas localmente, mas tamb√©m em um _workflow_ do GitHub Actions. #TalkingAboutTesting #EscolaTAT #CypressDoZeroANuvem #Cypress #GitHubActions

**Obs.:** Lembre-se de me marcar em sua postagem. [Aqui est√° meu perfil no LinkedIn](https://www.linkedin.com/in/walmyr-lima-e-silva-filho).

___

Parab√©ns! Vamos para a [li√ß√£o 11](./11.md) para integrar o projeto ao Cypress Cloud.
