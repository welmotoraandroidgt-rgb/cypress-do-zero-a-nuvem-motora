# Integrando com o üå≤ Cypress Cloud ‚òÅÔ∏è

Al√©m da _Cypress App_ (o projeto de c√≥digo aberto), o Cypress tamb√©m oferece um servi√ßo _freemium_ chamado [Cypress Cloud](https://docs.cypress.io/guides/cloud/introduction), que fornece funcionalidades √∫teis para te ajudar a gerenciar sua suite de testes automatizados.

Algumas dessas funcionalidades s√£o:

- Paraleliza√ß√£o de testes
- Balanceamento de carga
- Depura√ß√£o
- _Analytics_
- Integra√ß√£o com outros servi√ßos (ex.: GitHub, Jira, Slack, MS Teams)
- Detec√ß√£o de testes _flaky_
- Test Replay
- e mais.

Ent√£o, que tal configurarmos seu projeto na nuvem do Cypress pra voc√™ experimentar?

> üë®‚Äçüè´ N√£o se preocupe, j√° temos quase tudo que precisamos. Ser√° f√°cil!

## Exerc√≠cio

1. Crie uma conta no servi√ßo [Cypress Cloud](https://cloud.cypress.io/).

> üë®‚Äçüè´ Para isso, recomendo usar a integra√ß√£o de Single Sign-On do GitHub.

2. Crie uma organiza√ß√£o e um projeto, e ent√£o, guarde os valores do `Project ID` e `Record Key`.

> **Obs.:** Para mais detalhes, consulte a [documenta√ß√£o oficial](https://docs.cypress.io/guides/cloud/introduction).
>
> **Obs. 2:** Durante a cria√ß√£o do projeto na Cypress Cloud, selecione a op√ß√£o GitHub Actions na se√ß√£o de provedores de CI.

3. Em seu projeto local, no arquivo `cypress.config.js`, adicione a propriedade `projectId` com o valor do `Project ID` obtido no passo 2. Coloque-o no mesmo n√≠vel da propriedade `e2e` (n√£o dentro dela).

4. No arquivo `package.json`, adicione o seguinte novo script `test:cloud`, com o seguinte valor: `cypress run --record`.

5. No arquivo `.github/workflows/ci.yml`, adicione a `CYPRESS_RECORD_KEY` como um segredo. Al√©m disso, adicione o comando `npm run test:cloud` √† etapa `Cypress run`.

> üôä Seu arquivo `.github/workflows/ci.yml` deve ficar assim:

```yml
name: End-to-end tests
on: push
jobs:
  cypress-run:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Cypress run
        uses: cypress-io/github-action@v6
        env:
          CYPRESS_RECORD_KEY: ${{ secrets.CYPRESS_RECORD_KEY }}
        with:
          command: npm run test:cloud

```

6. No projeto no GitHub, acesse a aba _Settings_; em seguida, no menu lateral esquerdo, selecione a op√ß√£o _Secrets and variables_ e, ent√£o, a op√ß√£o _Actions_; clique no bot√£o <kbd>New repository secret</kbd> e adicione uma vari√°vel chamada `CYPRESS_RECORD_KEY` com o valor obtido no passo 2; Por fim, clique no bot√£o <kbd>Add secret</kbd>.

7. No terminal de linha de comando (na raiz do projeto), execute os seguintes comandos.

```sh
git add .
git commit -m "Configure cypress cloud"
git push origin main
```

8. Acesse o reposit√≥rio no GitHub, abra a guia Actions e veja o _workflow_ de CI sendo acionado novamente.

9. Ao final da execu√ß√£o do _workflow_, acesse a Cypress Cloud e veja os resultados dos seus testes registrados l√°.

> üë®‚Äçüè´ Aproveite a oportunidade para explorar as funcionalidades da Cypress Cloud, como _analytics_, Test Replay, etc.

## Mostre ao mundo o que voc√™ aprendeu

Para mostrar √† sua rede profissional o que voc√™ aprendeu at√© agora, poste o seguinte no LinkedIn.

> Estou fazendo o curso "Cypress, do Zero √† Nuvem" da escola online Talking About Testing, onde aprendi como integrar um projeto Cypress com o servi√ßo Cypress Cloud. ‚òÅÔ∏è #TalkingAboutTesting #EscolaTAT #CypressDoZeroANuvem #Cypress #CypressCloud

**Obs.:** Lembre-se de me marcar em sua postagem. [Aqui est√° meu perfil no LinkedIn](https://www.linkedin.com/in/walmyr-lima-e-silva-filho).

___

Incr√≠vel! Vamos para a [li√ß√£o 12](./12.md), onde abordaremos algumas quest√µes n√£o t√£o b√°sicas que diferenciam o Cypress de outros frameworks de testes automatizados de interface gr√°fica do usu√°rio.
